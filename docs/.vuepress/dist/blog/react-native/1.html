<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React Native基础 | 洛清寒前端进阶</title>
    <meta name="generator" content="VuePress 1.5.3">
    
    <meta name="description" content="">
    <link rel="preload" href="/blog/assets/css/0.styles.5dc057b1.css" as="style"><link rel="preload" href="/blog/assets/js/app.fc026034.js" as="script"><link rel="preload" href="/blog/assets/js/2.fcbc8dd4.js" as="script"><link rel="preload" href="/blog/assets/js/13.c7225e4c.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.888ea4df.js"><link rel="prefetch" href="/blog/assets/js/100.566fce07.js"><link rel="prefetch" href="/blog/assets/js/101.3f90f01d.js"><link rel="prefetch" href="/blog/assets/js/102.173aa4f2.js"><link rel="prefetch" href="/blog/assets/js/103.e08b7349.js"><link rel="prefetch" href="/blog/assets/js/104.8a39f9e4.js"><link rel="prefetch" href="/blog/assets/js/105.1ac2003b.js"><link rel="prefetch" href="/blog/assets/js/106.38eec469.js"><link rel="prefetch" href="/blog/assets/js/107.0ead293c.js"><link rel="prefetch" href="/blog/assets/js/108.46bf680e.js"><link rel="prefetch" href="/blog/assets/js/109.7a789d21.js"><link rel="prefetch" href="/blog/assets/js/11.56fef4a1.js"><link rel="prefetch" href="/blog/assets/js/110.129b27fa.js"><link rel="prefetch" href="/blog/assets/js/111.b8d9ab32.js"><link rel="prefetch" href="/blog/assets/js/112.af00b53c.js"><link rel="prefetch" href="/blog/assets/js/113.fbcf417e.js"><link rel="prefetch" href="/blog/assets/js/114.e23cb560.js"><link rel="prefetch" href="/blog/assets/js/12.8dcc1f3d.js"><link rel="prefetch" href="/blog/assets/js/14.7ed7a103.js"><link rel="prefetch" href="/blog/assets/js/15.c529616d.js"><link rel="prefetch" href="/blog/assets/js/16.5c255d3c.js"><link rel="prefetch" href="/blog/assets/js/17.5b6bb22a.js"><link rel="prefetch" href="/blog/assets/js/18.93516f17.js"><link rel="prefetch" href="/blog/assets/js/19.1e532a6f.js"><link rel="prefetch" href="/blog/assets/js/20.1398bcf4.js"><link rel="prefetch" href="/blog/assets/js/21.7937c889.js"><link rel="prefetch" href="/blog/assets/js/22.82037549.js"><link rel="prefetch" href="/blog/assets/js/23.f3a1645d.js"><link rel="prefetch" href="/blog/assets/js/24.decc97a5.js"><link rel="prefetch" href="/blog/assets/js/25.990e1dd4.js"><link rel="prefetch" href="/blog/assets/js/26.6590fb9e.js"><link rel="prefetch" href="/blog/assets/js/27.c2cb8454.js"><link rel="prefetch" href="/blog/assets/js/28.20d6ff8d.js"><link rel="prefetch" href="/blog/assets/js/29.f01207af.js"><link rel="prefetch" href="/blog/assets/js/3.297fba9c.js"><link rel="prefetch" href="/blog/assets/js/30.d77f19f3.js"><link rel="prefetch" href="/blog/assets/js/31.08779cdf.js"><link rel="prefetch" href="/blog/assets/js/32.efc98f3a.js"><link rel="prefetch" href="/blog/assets/js/33.f3284541.js"><link rel="prefetch" href="/blog/assets/js/34.bd261a2a.js"><link rel="prefetch" href="/blog/assets/js/35.d74448f9.js"><link rel="prefetch" href="/blog/assets/js/36.7ac43a11.js"><link rel="prefetch" href="/blog/assets/js/37.c6e587c2.js"><link rel="prefetch" href="/blog/assets/js/38.1be889c7.js"><link rel="prefetch" href="/blog/assets/js/39.db20b7d9.js"><link rel="prefetch" href="/blog/assets/js/4.0bb70dc7.js"><link rel="prefetch" href="/blog/assets/js/40.99cefe14.js"><link rel="prefetch" href="/blog/assets/js/41.2c184d84.js"><link rel="prefetch" href="/blog/assets/js/42.2d15cef7.js"><link rel="prefetch" href="/blog/assets/js/43.ce60afda.js"><link rel="prefetch" href="/blog/assets/js/44.6c50a06d.js"><link rel="prefetch" href="/blog/assets/js/45.304c71ce.js"><link rel="prefetch" href="/blog/assets/js/46.2afff9a2.js"><link rel="prefetch" href="/blog/assets/js/47.faee2042.js"><link rel="prefetch" href="/blog/assets/js/48.203f897a.js"><link rel="prefetch" href="/blog/assets/js/49.6580de47.js"><link rel="prefetch" href="/blog/assets/js/5.41b06599.js"><link rel="prefetch" href="/blog/assets/js/50.1cd34f57.js"><link rel="prefetch" href="/blog/assets/js/51.d73f0090.js"><link rel="prefetch" href="/blog/assets/js/52.f57464cb.js"><link rel="prefetch" href="/blog/assets/js/53.7831e8b3.js"><link rel="prefetch" href="/blog/assets/js/54.eeb8521a.js"><link rel="prefetch" href="/blog/assets/js/55.7445dc29.js"><link rel="prefetch" href="/blog/assets/js/56.4385da7d.js"><link rel="prefetch" href="/blog/assets/js/57.67697ff6.js"><link rel="prefetch" href="/blog/assets/js/58.cc1f5c90.js"><link rel="prefetch" href="/blog/assets/js/59.1768cfb2.js"><link rel="prefetch" href="/blog/assets/js/6.506bf937.js"><link rel="prefetch" href="/blog/assets/js/60.ffa9a113.js"><link rel="prefetch" href="/blog/assets/js/61.3851da88.js"><link rel="prefetch" href="/blog/assets/js/62.262ffd78.js"><link rel="prefetch" href="/blog/assets/js/63.86306891.js"><link rel="prefetch" href="/blog/assets/js/64.b317dde0.js"><link rel="prefetch" href="/blog/assets/js/65.19752d04.js"><link rel="prefetch" href="/blog/assets/js/66.01d091b3.js"><link rel="prefetch" href="/blog/assets/js/67.fc2bed1c.js"><link rel="prefetch" href="/blog/assets/js/68.613b5a4c.js"><link rel="prefetch" href="/blog/assets/js/69.c4147c29.js"><link rel="prefetch" href="/blog/assets/js/7.6afd83f0.js"><link rel="prefetch" href="/blog/assets/js/70.4223ea90.js"><link rel="prefetch" href="/blog/assets/js/71.0c83cbfd.js"><link rel="prefetch" href="/blog/assets/js/72.f2754a6f.js"><link rel="prefetch" href="/blog/assets/js/73.8e7be48f.js"><link rel="prefetch" href="/blog/assets/js/74.26173443.js"><link rel="prefetch" href="/blog/assets/js/75.f11ebb73.js"><link rel="prefetch" href="/blog/assets/js/76.b61da006.js"><link rel="prefetch" href="/blog/assets/js/77.9baba66e.js"><link rel="prefetch" href="/blog/assets/js/78.b746f422.js"><link rel="prefetch" href="/blog/assets/js/79.6a569db6.js"><link rel="prefetch" href="/blog/assets/js/8.55cd36cb.js"><link rel="prefetch" href="/blog/assets/js/80.f6600f78.js"><link rel="prefetch" href="/blog/assets/js/81.cb833994.js"><link rel="prefetch" href="/blog/assets/js/82.f2bfb1a2.js"><link rel="prefetch" href="/blog/assets/js/83.4cc99815.js"><link rel="prefetch" href="/blog/assets/js/84.e29f5f37.js"><link rel="prefetch" href="/blog/assets/js/85.812e729f.js"><link rel="prefetch" href="/blog/assets/js/86.ec27b397.js"><link rel="prefetch" href="/blog/assets/js/87.4aa83d54.js"><link rel="prefetch" href="/blog/assets/js/88.ea8aab1e.js"><link rel="prefetch" href="/blog/assets/js/89.69121b44.js"><link rel="prefetch" href="/blog/assets/js/9.19b9821d.js"><link rel="prefetch" href="/blog/assets/js/90.18b70362.js"><link rel="prefetch" href="/blog/assets/js/91.e1fd2749.js"><link rel="prefetch" href="/blog/assets/js/92.eb57eb2e.js"><link rel="prefetch" href="/blog/assets/js/93.0e5ad6f7.js"><link rel="prefetch" href="/blog/assets/js/94.510014a9.js"><link rel="prefetch" href="/blog/assets/js/95.502d13db.js"><link rel="prefetch" href="/blog/assets/js/96.fe4077a2.js"><link rel="prefetch" href="/blog/assets/js/97.718349be.js"><link rel="prefetch" href="/blog/assets/js/98.29529240.js"><link rel="prefetch" href="/blog/assets/js/99.ef459631.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.5dc057b1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/images/blog.jpg" alt="洛清寒前端进阶" class="logo"> <span class="site-name can-hide">洛清寒前端进阶</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/blog/interview/" class="nav-link">
  前端基础
</a></div><div class="nav-item"><a href="/blog/blog/" class="nav-link router-link-active">
  进阶博文
</a></div><div class="nav-item"><a href="https://juejin.im/post/5e65a953518825495a27860b" target="_blank" rel="noopener noreferrer" class="nav-link external">
  大厂面经
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/lensh/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/lensh/vue-qq" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vue-qq
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/lensh/mini-promise" target="_blank" rel="noopener noreferrer" class="nav-link external">
  mini-promise
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/lensh/React-SSR" target="_blank" rel="noopener noreferrer" class="nav-link external">
  react-ssr
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/blog/interview/" class="nav-link">
  前端基础
</a></div><div class="nav-item"><a href="/blog/blog/" class="nav-link router-link-active">
  进阶博文
</a></div><div class="nav-item"><a href="https://juejin.im/post/5e65a953518825495a27860b" target="_blank" rel="noopener noreferrer" class="nav-link external">
  大厂面经
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/lensh/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/lensh/vue-qq" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vue-qq
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/lensh/mini-promise" target="_blank" rel="noopener noreferrer" class="nav-link external">
  mini-promise
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/lensh/React-SSR" target="_blank" rel="noopener noreferrer" class="nav-link external">
  react-ssr
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/blog/blog/docker/1.html" class="sidebar-heading clickable"><span>docker</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/blog/egg/1.html" class="sidebar-heading clickable"><span>egg</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/blog/flutter/1.html" class="sidebar-heading clickable"><span>flutter</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/blog/nest/1.html" class="sidebar-heading clickable"><span>nest</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/blog/typescript/1.html" class="sidebar-heading clickable"><span>typescript</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/blog/uni-app/1.html" class="sidebar-heading clickable"><span>uni-app</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/blog/mini-game/1.html" class="sidebar-heading clickable"><span>小程序</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/blog/react-native/1.html" aria-current="page" class="sidebar-heading clickable router-link-exact-active router-link-active open active"><span>React Native</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/blog/react-native/1.html" aria-current="page" class="active sidebar-link">React Native基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/blog/react-native/1.html#一、环境搭建" class="sidebar-link">一、环境搭建</a></li><li class="sidebar-sub-header"><a href="/blog/blog/react-native/1.html#二、基础知识" class="sidebar-link">二、基础知识</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/blog/react-native/1.html#布局" class="sidebar-link">布局</a></li><li class="sidebar-sub-header"><a href="/blog/blog/react-native/1.html#像素无关" class="sidebar-link">像素无关</a></li><li class="sidebar-sub-header"><a href="/blog/blog/react-native/1.html#样式" class="sidebar-link">样式</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/blog/react-native/1.html#三、常用组件" class="sidebar-link">三、常用组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/blog/react-native/1.html#button" class="sidebar-link">Button</a></li><li class="sidebar-sub-header"><a href="/blog/blog/react-native/1.html#activityindicator" class="sidebar-link">ActivityIndicator</a></li><li class="sidebar-sub-header"><a href="/blog/blog/react-native/1.html#image" class="sidebar-link">Image</a></li><li class="sidebar-sub-header"><a href="/blog/blog/react-native/1.html#safeareaview" class="sidebar-link">SafeAreaView</a></li><li class="sidebar-sub-header"><a href="/blog/blog/react-native/1.html#text" class="sidebar-link">Text</a></li><li class="sidebar-sub-header"><a href="/blog/blog/react-native/1.html#textinput" class="sidebar-link">TextInput</a></li><li class="sidebar-sub-header"><a href="/blog/blog/react-native/1.html#view" class="sidebar-link">View</a></li><li class="sidebar-sub-header"><a href="/blog/blog/react-native/1.html#webview" class="sidebar-link">WebView</a></li><li class="sidebar-sub-header"><a href="/blog/blog/react-native/1.html#listview" class="sidebar-link">ListView</a></li><li class="sidebar-sub-header"><a href="/blog/blog/react-native/1.html#virtualizedlist" class="sidebar-link">VirtualizedList</a></li><li class="sidebar-sub-header"><a href="/blog/blog/react-native/1.html#flatlist" class="sidebar-link">FlatList</a></li><li class="sidebar-sub-header"><a href="/blog/blog/react-native/1.html#sectionlist" class="sidebar-link">SectionList</a></li><li class="sidebar-sub-header"><a href="/blog/blog/react-native/1.html#refreshcontrol" class="sidebar-link">RefreshControl</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/blog/react-native/1.html#四、常用api" class="sidebar-link">四、常用API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/blog/react-native/1.html#dimensions" class="sidebar-link">Dimensions</a></li><li class="sidebar-sub-header"><a href="/blog/blog/react-native/1.html#platform" class="sidebar-link">Platform</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/blog/react-native/1.html#五、flatlist案例" class="sidebar-link">五、FlatList案例</a></li><li class="sidebar-sub-header"><a href="/blog/blog/react-native/1.html#六、图标react-native-vector-icons" class="sidebar-link">六、图标react-native-vector-icons</a></li></ul></li><li><a href="/blog/blog/react-native/2.html" class="sidebar-link">React Navigation</a></li><li><a href="/blog/blog/react-native/3.html" class="sidebar-link">React Native进阶</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/blog/ssr/react-ssr.html" class="sidebar-heading clickable"><span>服务端渲染SSR</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="react-native基础"><a href="#react-native基础" class="header-anchor">#</a> React Native基础</h1> <p>RN底层引擎是 JavaScript Core，但调用的是原⽣的组件⽽非HTML5组件。这样运⾏时可以做到与 Navive App 相媲美的性能体验，同时因为 JavaScript 代码可以使用后端强⼤的Web方式管理，既可以做到⾼效开发，也可以实现快速部署和问题热修复。</p> <p>React Native优缺点：</p> <p>优点</p> <ol><li>跨平台开发：运⽤React Native，我们可以使⽤同⼀份业务逻辑核⼼代码来创建原⽣应⽤运⾏在Web端，Android端和iOS端；</li> <li>追求极致的⽤户体验：实时热部署；</li> <li>React Native不强求一份原生代码支持多个平台，所以不是write
once,run anywhere；</li></ol> <p>缺点</p> <ol><li>react native在iOS上仅⽀持 iOS7 以上，Android仅⽀持 Android4.1 以上；</li> <li>开发成本较⾼；</li> <li>部分复杂的界⾯和操作，RN⽆法实现(可以考虑原⽣+React Native混合开发)；</li></ol> <h2 id="一、环境搭建"><a href="#一、环境搭建" class="header-anchor">#</a> 一、环境搭建</h2> <p>环境搭建参考：<a href="https://reactnative.cn/docs/getting-started" target="_blank" rel="noopener noreferrer">环境搭建<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>需要注意的是不要在目录、文件名中使用中文、空格等特殊符号。我第一次搭建环境的时候就踩到这个坑了，
折腾了很久，都是没认真看官网的结果。</p> <h2 id="二、基础知识"><a href="#二、基础知识" class="header-anchor">#</a> 二、基础知识</h2> <h3 id="布局"><a href="#布局" class="header-anchor">#</a> 布局</h3> <p>RN中的布局⽅式采⽤的是FlexBox(弹性布局)，FlexBox提供了在不通尺⼨设备上都能保持⼀致的布局方式。</p> <p>RN中FlexBox和Web Css上FlexBox⼯作⽅式是⼀样的，但有些地⽅还是有出入的</p> <ul><li><p>flexDirection:（主轴⽅向）</p> <p>RN中默认是flexDirection:'column',Web Css中默认是 flex-direction:'row'</p></li> <li><p>alignItems:（在交叉轴上的对⻬⽅式）</p> <p>RN中默认alignItems: 'stretch',在Web Css中默认 align-items:'flex-start'</p></li> <li><p>flex:</p> <p>RN中只接受⼀个属性，Web css 可以接受多个属性：flex: 2 2 10%</p></li> <li><p>不⽀持的属性： align-content flex-basis order flex-flow flex-grow flex-shrink</p></li></ul> <p>以下属性是RN所⽀持的Flex属性</p> <ul><li>容器属性</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>  flexDirection: row | column| row-reverse | column-reverse
  flexWrap: wrap | noWrap
  justifyContent: flex-start | flex-end | center | space-between | space-around
  alignItems: flex-start | flex-end | center | stretch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>项⽬属性</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>  alignSelf
  stretch
  center
  flex-start
  flex-end
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>flex:定义了⼀个元素可伸缩的能⼒，默认是0</li></ul> <h3 id="像素无关"><a href="#像素无关" class="header-anchor">#</a> 像素无关</h3> <p>在RN中尺⼨是没有单位的，它代表的是设备独⽴像素</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">View</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>width<span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">,</span>height<span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">,</span>margin<span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">,</span>backgroundColor<span class="token operator">:</span><span class="token string">'gray'</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
 </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>fontSize<span class="token operator">:</span><span class="token number">16</span><span class="token punctuation">,</span>margin<span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">尺⼨</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Text</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">View</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>上述代码，运⾏在Android上时，View的⻓宽被解释成：100dp 100dp，字体被解释成16sp，运⾏在ios上时尺⼨单位被解释成pt，这些单位确保了布局在任何不通DPI的⼿机屏幕上，显示效果⼀致。</p> <h3 id="样式"><a href="#样式" class="header-anchor">#</a> 样式</h3> <p>在RN中样式需要引入StyleSheet API</p> <p>写法⼀：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">View</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>container<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">View</span></span><span class="token punctuation">&gt;</span></span>
<span class="token keyword">const</span> styles <span class="token operator">=</span> StyleSheet<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
 container<span class="token operator">:</span><span class="token punctuation">{</span>
 <span class="token operator">...</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>组件内写法：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">View</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>backgroundColor<span class="token operator">:</span><span class="token string">'red'</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">View</span></span><span class="token punctuation">&gt;</span></span>
<span class="token comment">//or</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">View</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>styles<span class="token punctuation">.</span>container<span class="token punctuation">,</span><span class="token punctuation">{</span>backgroundCorlor<span class="token operator">:</span><span class="token string">'red'</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">View</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="三、常用组件"><a href="#三、常用组件" class="header-anchor">#</a> 三、常用组件</h2> <p>在RN中使⽤原⽣组件，是依赖React的，所以在使⽤过程中需要导⼊react</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Button<span class="token punctuation">,</span> Platform<span class="token punctuation">,</span> StyleSheet<span class="token punctuation">,</span> Text<span class="token punctuation">,</span> View <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-native&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="button"><a href="#button" class="header-anchor">#</a> Button</h3> <p>⼀个简单的跨平台的按钮组件。可以进⾏⼀些简单的定制。</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token operator">&lt;</span>Button 
 onPress<span class="token operator">=</span><span class="token punctuation">{</span>onPressLearnMore<span class="token punctuation">}</span> <span class="token comment">//⽤户点击此按钮时所调⽤的处理函数</span>
 title<span class="token operator">=</span><span class="token string">&quot;Learn More&quot;</span> <span class="token comment">//按钮按钮内显示的⽂本</span>
 color<span class="token operator">=</span><span class="token string">&quot;#841584&quot;</span> <span class="token comment">//⽂本的颜⾊(iOS)，或是按钮的背景⾊(Android)</span>
 disabled<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span> <span class="token comment">//按钮是否可以点击</span>
 accessibilityLabel<span class="token operator">=</span><span class="token string">&quot;Learn more about this purple button&quot;</span> <span class="token comment">//⽤于给残障⼈⼠显示的⽂本（⽐如读屏应⽤可能会读取这⼀内容</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="activityindicator"><a href="#activityindicator" class="header-anchor">#</a> ActivityIndicator</h3> <p>显示⼀个圆形的 loading 提示符号。</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">View</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>styles<span class="token punctuation">.</span>container<span class="token punctuation">,</span> styles<span class="token punctuation">.</span>horizontal<span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
 &lt;ActivityIndicator 
 size=&quot;large&quot; //指示器的⼤⼩，默认为'small'[enum('small', 'large'), number]。⽬前只能在 Android 上设定具体的数值
 animating=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token plain-text"> //是否要显示指示器动画，默认为 true 表示显示，false 则隐藏。
 hidesWhenStopped=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span><span class="token plain-text"> //在animating为 false 的时候，是否要隐藏指示器（默认为true）。如果animating和hidesWhenStopped都为 false，则显示⼀个静⽌的指示器。
 color=&quot;#0000ff&quot; //滚轮的前景颜⾊（默认为灰⾊）。
 /&gt;
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">View</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="image"><a href="#image" class="header-anchor">#</a> Image</h3> <p>⽤于显示多种不同类型图⽚的 React 组件，包括⽹络图⽚、静态资源、临时的本地图⽚、以及本地磁盘上的图⽚（如相册）等。下⾯的例⼦分别演示了如何显示从本地缓存、⽹络甚⾄是以 'data:' 的 base64 uri 形式提供的图⽚。</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Image</span></span> <span class="token attr-name">source</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'/react-native/img/favicon.png'</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token operator">&lt;</span>Image style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>width<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
 <span class="token comment">//⽹络和 base64 数据的图⽚需要⼿动指定尺⼨</span>
 source<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>uri<span class="token operator">:</span> <span class="token string">'https://facebook.github.io/reactnative/docs/assets/favicon.png'</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Image style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>width<span class="token operator">:</span> <span class="token number">66</span><span class="token punctuation">,</span> height<span class="token operator">:</span> <span class="token number">58</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
 <span class="token comment">//⽹络和 base64 数据的图⽚需要⼿动指定尺⼨</span>
 source<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>uri<span class="token operator">:</span>
<span class="token string">'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAzCAYAAAA6oTAqAAAAEXRFWHRTb2Z0d2FyZQBwbmdjcnVzaEB1SfMAAABQSURBVGje7dSxCQBACARB+2/ab8BEeQNhFi6WSYzYLYudDQYGBgYGBgYGBgYGBgYGBgZmcvDqYGBgmhivGQYGBgYGBgYGBgYGBgYGBgbmQw+P/eMrC5UTVAAAAABJRU5ErkJggg=='</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>默认情况下 Android 是不⽀持 GIF 和 WebP 格式的。你需要在 android/app/build.gradle ⽂件中根据需要⼿动添加以下模块：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>dependencies {
 // 如果你需要⽀持Android4.0(API level 14)之前的版本
 compile 'com.facebook.fresco:animated-base-support:1.10.0'
 // 如果你需要⽀持GIF动图
 compile 'com.facebook.fresco:animated-gif:1.10.0'
 // 如果你需要⽀持WebP格式，包括WebP动图
 compile 'com.facebook.fresco:animated-webp:1.10.0'
 compile 'com.facebook.fresco:webpsupport:1.10.0'
 // 如果只需要⽀持WebP格式⽽不需要动图
 compile 'com.facebook.fresco:webpsupport:1.10.0'
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="safeareaview"><a href="#safeareaview" class="header-anchor">#</a> SafeAreaView</h3> <p>SafeAreaView 的⽬的是在⼀个“安全”的可视区域内渲染内容。具体来说就是因为⽬前有 iPhone X 这样的带有“刘海”的全⾯屏设备，所以需要避免内容渲染到不可⻅的“刘海”范围内。本组件⽬前仅⽀持 iOS 设备以及 iOS 11 或更⾼版本。SafeAreaView 会⾃动根据系统的各种导航栏、⼯具栏等预留出空间来渲染内部内容。更重要的是，它还会考虑到设备屏幕的局限，⽐如屏幕四周的圆⻆或是顶部中间不可显示的“刘海”区域。</p> <h3 id="text"><a href="#text" class="header-anchor">#</a> Text</h3> <p>⼀个⽤于显示⽂本的React组件，并且它也支持嵌套、样式，以及触摸处理，在Text内部的元素不再使⽤flexbox布局，⽽是采⽤⽂本布局。这意味着 <code>&lt;Text&gt;</code> 内部的元素不再是⼀个个矩形，⽽可能会在行末进行折叠.</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token operator">&lt;</span>Text
  ellipsizeMode<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;tail&quot;</span><span class="token punctuation">}</span> <span class="token comment">//这个属性通常和下⾯的 numberOfLines 属性配合使⽤,⽂本超出numberOfLines设定的⾏数时，截取⽅式：head- 从⽂本内容头部截取显示省略号。例如：&quot;...efg&quot;，middle - 在⽂本内容中间截取显示省略号。例如： &quot;ab...yz&quot;，tail - 从⽂本内容尾部截取显示省略号。例如： &quot;abcd...&quot;，clip - 不显示省略号，直接从尾部截断。</span>
  numberOfLines<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span> <span class="token comment">//配合ellipsizeMode设置⾏数</span>
  onPress<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">//点击事件</span>
  selectable<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token comment">//决定⽤户是否可以⻓按选择⽂本，以便复制和粘贴。</span>
<span class="token operator">&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Text</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="textinput"><a href="#textinput" class="header-anchor">#</a> TextInput</h3> <p>是⼀个允许⽤户在应⽤中通过键盘输⼊⽂本的基本组件。本组件的属性提供了多种特性的配置，譬如⾃动完成、⾃动⼤⼩写、占位⽂字，以及多种不同的键盘类型（如纯数字键盘）,TextInput 在安卓上默认有⼀个底边框，同时会有⼀些padding。如果要想使其看起来和iOS上尽量⼀致，则需要设置 padding: 0。</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token operator">&lt;</span>TextInput
  style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
    width<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    height<span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>
    borderWidth<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    borderColor<span class="token operator">:</span> <span class="token string">&quot;blue&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">}</span>
  keyboardType<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;default&quot;</span><span class="token punctuation">}</span> <span class="token comment">//决定弹出何种软键盘类型，譬如numeric（纯数字键盘),default,number-pad,decimal-pad,numeric,email-address,phone-pad</span>
  maxLength<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">20</span><span class="token punctuation">}</span> <span class="token comment">//限制⽂本框中最多的字符数。使⽤这个属性⽽不⽤JS逻辑去实现，可以避免闪烁的现象。</span>
  editable<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span> <span class="token comment">//如果为false，⽂本框是不可编辑的。默认值为true。</span>
  defaultValue<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;xxxx&quot;</span><span class="token punctuation">}</span> <span class="token comment">//提供⼀个⽂本框中的初始值</span>
  caretHidden<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span> <span class="token comment">//如果为true，则隐藏光标。默认值为false。</span>
  autoCapitalize<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;none&quot;</span><span class="token punctuation">}</span> <span class="token comment">//控制TextInput是否要⾃动将特定字符切换为⼤写:characters:所有的字符,words: 每个单词的第⼀个字符,sentences: 每句话的第⼀个字符（默认）,none: 不切换。</span>
  <span class="token comment">//当⽂本框内容变化时调⽤此回调函数。改变后的⽂字内容会作为参数传递。从TextInput⾥取值这就是⽬前唯⼀的做法！</span>
  onChangeText<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">text</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      text<span class="token operator">:</span> text
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">}</span>
 <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="view"><a href="#view" class="header-anchor">#</a> View</h3> <p>类似于html中的div，容器组件，可以使⽤[,]的形式返回多个兄弟组件。</p> <h3 id="webview"><a href="#webview" class="header-anchor">#</a> WebView</h3> <p>WebView 创建⼀个原⽣的 WebView，可以⽤于访问⼀个网页。</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">class</span> <span class="token class-name">MyWeb</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
 <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token punctuation">(</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">WebView</span></span>
     <span class="token attr-name">source</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>uri<span class="token operator">:</span> <span class="token string">'https://github.com/facebook/react-native'</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span>
     <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>marginTop<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span>
     <span class="token punctuation">/&gt;</span></span>
   <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>注意：新版的RN已经⽤react-naitve-webView替代RN原⽣Core中的WebView
使用方法：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn add react-native-webview
react-native link react-native-webview
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>使用的时候 <code>import { WebView } from &quot;react-native-webview&quot;</code>。</p> <h3 id="listview"><a href="#listview" class="header-anchor">#</a> ListView</h3> <p>经常使⽤ListView的同学都知道，这个组件的性能⽐较差，尤其是当有⼤量的数据需要展示的时候，ListView对内存的占⽤较多，常出现丢帧卡顿现象。ListView底层实现，渲染组件Item是全量渲染，⽽且没有复⽤机制，这就不可避免的当渲染较⼤数据量时，会发现以下情况：</p> <ul><li>第⼀次打开与切换Tab时会出现卡顿或⽩屏的情况，⽐如ListView中有100个Item，只能等这100条Item都渲染完成，ListView中的内容才会展示</li> <li>滑动列表时会出现卡顿不跟⼿，listVIew渲染⼤量数据，需要占⽤较多的内存用于计算。
未来有很⼤可能性会被移除。</li></ul> <h3 id="virtualizedlist"><a href="#virtualizedlist" class="header-anchor">#</a> VirtualizedList</h3> <p><code>FlatList</code> 和 <code>SectionList</code> 的底层实现，<code>VirtualizedList</code>通过维护⼀个有限的渲染窗⼝(其中包含可见的元素)，并将渲染窗⼝之外的元素全部⽤合适的定⻓空⽩空间代替的⽅式，极⼤的改善了内存使⽤，提⾼了⼤量数据情况下的渲染性能。这个渲染窗⼝能响应滚动⾏为，元素离可视区越远优先级越低，越近优先级越⾼，当⽤户滑动速度过快时，会出现短暂空白的情况。</p> <h3 id="flatlist"><a href="#flatlist" class="header-anchor">#</a> FlatList</h3> <p>在RN0.43版本中引⼊了<code>FlatList</code>，<code>SectionList</code>与<code>VirtualizedList</code>，其中<code>VirtualizedList</code>是 <code>FlatList</code>和<code>SectionList</code>的底层实现。
缺点：（1）为了优化内存占⽤同时保持滑动的流畅，列表内容会在屏幕外异步绘制。这意味着如果⽤户滑动的速度超过渲染的速度，则会先看到空⽩的内容。（2）不支持分组列表。</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FlatList</span></span>
  <span class="token attr-name">data</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token punctuation">{</span>key<span class="token operator">:</span> <span class="token string">'a'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>key<span class="token operator">:</span> <span class="token string">'b'</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>
  <span class="token attr-name">renderItem</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>item<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>key<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Text</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span></span>
<span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="sectionlist"><a href="#sectionlist" class="header-anchor">#</a> SectionList</h3> <p>高性能的分组列表组件。缺点：同样会有空白内容的情况。</p> <h3 id="refreshcontrol"><a href="#refreshcontrol" class="header-anchor">#</a> RefreshControl</h3> <p>这⼀组件可以⽤在ScrollView或FlatList内部，为其添加下拉刷新的功能。当<code>ScrollView</code>处于竖直⽅向的起点位置（scrollY: 0），此时下拉会触发⼀个 <code>onRefresh</code>事件。</p> <h2 id="四、常用api"><a href="#四、常用api" class="header-anchor">#</a> 四、常用API</h2> <h3 id="dimensions"><a href="#dimensions" class="header-anchor">#</a> Dimensions</h3> <p>⽤于获取设备屏幕的宽⾼。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">{</span>height<span class="token punctuation">,</span> width<span class="token punctuation">}</span> <span class="token operator">=</span> Dimensions<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'window'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="platform"><a href="#platform" class="header-anchor">#</a> Platform</h3> <p>平台API判断。</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Platform<span class="token punctuation">,</span> StyleSheet <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-native&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> styles <span class="token operator">=</span> StyleSheet<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
 height<span class="token operator">:</span> Platform<span class="token punctuation">.</span><span class="token constant">OS</span> <span class="token operator">===</span> <span class="token string">&quot;ios&quot;</span> <span class="token operator">?</span> <span class="token number">200</span> <span class="token operator">:</span> <span class="token number">100</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Platform.select()，以Platform.OS为 key，从传⼊的对象中返回对应平台的值：</span>
<span class="token keyword">const</span> Component <span class="token operator">=</span> Platform<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
 <span class="token function-variable function">ios</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;ComponentIOS&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 <span class="token function-variable function">android</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;ComponentAndroid&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 检测Adr版本</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>Platform<span class="token punctuation">.</span>Version <span class="token operator">===</span> <span class="token number">25</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Running on Nougat!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 检测iOS版本</span>
<span class="token keyword">const</span> majorVersionIOS <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>Platform<span class="token punctuation">.</span>Version<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>majorVersionIOS <span class="token operator">&lt;=</span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Work around a change in behavior&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 当不同平台代码逻辑较为复杂时，可以使⽤平台扩展名</span>
<span class="token comment">// BigButton.ios.js</span>
<span class="token comment">// BigButton.android.js</span>
<span class="token keyword">const</span> BigButton <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./BigButton&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="五、flatlist案例"><a href="#五、flatlist案例" class="header-anchor">#</a> 五、FlatList案例</h2> <p>FlatList 实现上拉加载，下拉刷新，模拟请求数据，处理没有数据时的效果。</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Button<span class="token punctuation">,</span> StyleSheet<span class="token punctuation">,</span> FlatList<span class="token punctuation">,</span> Text<span class="token punctuation">,</span> View<span class="token punctuation">,</span> RefreshControl<span class="token punctuation">,</span> ActivityIndicator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-native&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">CITY_NAMES</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;北京&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;上海&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;广州&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;深圳&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;成都&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;武汉&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;南京&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>isLoading<span class="token punctuation">,</span> setIsLoading<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token comment">// 是否正在加载</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>dataArray<span class="token punctuation">,</span> setDataArray<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token constant">CITY_NAMES</span><span class="token punctuation">)</span> <span class="token comment">// 默认数据</span>

  <span class="token comment">// 列表项组件</span>
  <span class="token keyword">const</span> <span class="token function-variable function">renderItemView</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">View</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>item<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>text<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>data<span class="token punctuation">.</span>item<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Text</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">View</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>

  <span class="token comment">// 下拉刷新组件</span>
  <span class="token keyword">const</span> <span class="token function-variable function">renderRefreshView</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>RefreshControl
      title<span class="token operator">=</span><span class="token string">&quot;Loading&quot;</span> <span class="token comment">//android中设置无效</span>
      colors<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">]</span><span class="token punctuation">}</span> <span class="token comment">//android</span>
      tintColor<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">}</span> <span class="token comment">//ios</span>
      titleColor<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">}</span>
      refreshing<span class="token operator">=</span><span class="token punctuation">{</span>isLoading<span class="token punctuation">}</span>
      onRefresh<span class="token operator">=</span><span class="token punctuation">{</span>loadData<span class="token punctuation">}</span> <span class="token comment">// 下拉时请求数据</span>
    <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>

  <span class="token comment">// 模拟下拉刷新数据</span>
  <span class="token keyword">const</span> <span class="token function-variable function">loadData</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setIsLoading</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token comment">//模拟网络请求</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">//把数据反转</span>
      <span class="token keyword">let</span> newArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> dataArray<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        newArray<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>dataArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token function">setIsLoading</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
      <span class="token function">setDataArray</span><span class="token punctuation">(</span>newArray<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 上拉加载组件</span>
  <span class="token keyword">const</span> <span class="token function-variable function">renderLoadMoreView</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">View</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>loadMore<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ActivityIndicator</span></span>
        <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>indicator<span class="token punctuation">}</span></span>
        <span class="token attr-name">size</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">&quot;large&quot;</span><span class="token punctuation">}</span></span>
        <span class="token attr-name">color</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">}</span></span>
        <span class="token attr-name">animating</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span></span>
      <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">正在加载更多</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Text</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">View</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>

  <span class="token comment">// 模拟上拉加载数据</span>
  <span class="token keyword">const</span> <span class="token function-variable function">loadMoreData</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">//模拟网络请求</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> newArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> dataArray<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        newArray <span class="token operator">=</span> dataArray<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token constant">CITY_NAMES</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token function">setDataArray</span><span class="token punctuation">(</span>newArray<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 渲染空组件</span>
  <span class="token keyword">const</span> <span class="token function-variable function">renderEmptyView</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">View</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>empty<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Text</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">当前列表为空</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Text</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">View</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>

  <span class="token comment">// 清空列表</span>
  <span class="token keyword">const</span> <span class="token function-variable function">clearList</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setDataArray</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// key</span>
  <span class="token keyword">const</span> <span class="token function-variable function">keyExtractor</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token string">'index'</span> <span class="token operator">+</span> item <span class="token operator">+</span> index<span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">View</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>container<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      &lt;FlatList
        data=</span><span class="token punctuation">{</span>dataArray<span class="token punctuation">}</span><span class="token plain-text">
        keyExtractor=</span><span class="token punctuation">{</span>keyExtractor<span class="token punctuation">}</span><span class="token plain-text">
        // 列表项组件
        renderItem=</span><span class="token punctuation">{</span>renderItemView<span class="token punctuation">}</span><span class="token plain-text">
        // 下拉刷新组件
        refreshControl=</span><span class="token punctuation">{</span><span class="token function">renderRefreshView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
        // 上拉加载组件，列表为空时不显示
        ListFooterComponent=</span><span class="token punctuation">{</span>dataArray<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token function">renderLoadMoreView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
        // 列表为空时的组件
        ListEmptyComponent=</span><span class="token punctuation">{</span><span class="token function">renderEmptyView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
        // 触底时上拉加载更多数据
        onEndReached=</span><span class="token punctuation">{</span>loadMoreData<span class="token punctuation">}</span><span class="token plain-text">
      /&gt;
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span>
        <span class="token attr-name">onPress</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>clearList<span class="token punctuation">}</span></span>
        <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>清空列表<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#841584<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">View</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> styles <span class="token operator">=</span> StyleSheet<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  container<span class="token operator">:</span> <span class="token punctuation">{</span>
    flex<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  item<span class="token operator">:</span> <span class="token punctuation">{</span>
    backgroundColor<span class="token operator">:</span> <span class="token string">&quot;#169&quot;</span><span class="token punctuation">,</span>
    height<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    margin<span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
    justifyContent<span class="token operator">:</span> <span class="token string">&quot;center&quot;</span><span class="token punctuation">,</span>
    alignItems<span class="token operator">:</span> <span class="token string">&quot;center&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  text<span class="token operator">:</span> <span class="token punctuation">{</span>
    color<span class="token operator">:</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span>
    fontSize<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  loadMore<span class="token operator">:</span> <span class="token punctuation">{</span>
    alignItems<span class="token operator">:</span> <span class="token string">&quot;center&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  indicator<span class="token operator">:</span> <span class="token punctuation">{</span>
    color<span class="token operator">:</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span>
    margin<span class="token operator">:</span> <span class="token number">10</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  empty<span class="token operator">:</span> <span class="token punctuation">{</span>
    alignItems<span class="token operator">:</span> <span class="token string">&quot;center&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br></div></div><h2 id="六、图标react-native-vector-icons"><a href="#六、图标react-native-vector-icons" class="header-anchor">#</a> 六、图标react-native-vector-icons</h2> <p>这个图标库包含了AntDesign、Entypo、EvilIcons、Feather、FontAwesome、FontAwesome5、FontAwesome5Brands、Fontisto、Ionicons、MaterialCommunityIcons、MaterialIcons等多种风格的图标，使用的时候需导入对应风格的图标。</p> <p>1、安装<code>yarn add react-native-vector-icons</code>。</p> <p>2、在android项目app下中的build.gradle增加库：<code>apply from: &quot;../../node_modules/react-native-vector-icons/fonts.gradle&quot;</code></p> <p>3、项目中使用</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> FontAwesome <span class="token keyword">from</span> <span class="token string">'react-native-vector-icons/FontAwesome'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> AntDesign <span class="token keyword">from</span> <span class="token string">'react-native-vector-icons/AntDesign'</span><span class="token punctuation">;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">AntDesign</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stepforward<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">40</span><span class="token punctuation">}</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>red<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FontAwesome</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id-card<span class="token punctuation">&quot;</span></span> <span class="token attr-name">size</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">40</span><span class="token punctuation">}</span></span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>red<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><a href="https://oblador.github.io/react-native-vector-icons/" target="_blank" rel="noopener noreferrer">图标库<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/2/2020, 12:08:04 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/blog/mini-game/2.html" class="prev">
        小程序实战技巧
      </a></span> <span class="next"><a href="/blog/blog/react-native/2.html">
        React Navigation
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.fc026034.js" defer></script><script src="/blog/assets/js/2.fcbc8dd4.js" defer></script><script src="/blog/assets/js/13.c7225e4c.js" defer></script>
  </body>
</html>
