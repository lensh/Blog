# 自定义组件使用v-model
在input元素中使用v-model实现双数据绑定，其实就是在输入的时候触发元素的input事件，通过这个语法糖，也能够实现父子组件数据的双向绑定。

组件上的 v-model 默认使用名为 value 的 prop 和名为 input 的事件。

组件的input事件通过组件内部输入框的input事件提交$emit，手动触发。

所以为了保持组件内input的value和input和组件的保持一致，组件内的`<input>`必须：

* value 使用作为prop的value
* input 绑定到组件的input事件

父组件
```vue
<template>
  <div id="app">
    <Child v-model="number"></Child>
    <p>{{number}}</p>
  </div>
</template>

<script>
import Child from "./components/Child.vue";

export default {
  name: "App",
  data() {
    return {
      number: 0
    };
  },
  components: {
    Child
  }
};
</script>
```
子组件，Child.vue
```vue
<template>
  <div>
    <button @click="$emit('input',value+1)">点击</button>
  </div>
</template>

<script>
export default {
  name: "Child",
  props: ["value"]
};
</script>
```
通过v-bind把父组件的数据绑定到了子组件的props属性中，而在props上默认用value取值，然后通过$emit触发事件input，因为v-model绑定的事件是input，故在子组件上触发了父组件的input事件，通过触发事件来进行传值，实现了父子组件数据的双向绑定。