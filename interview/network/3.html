<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>http2.0、http3.0、https | 洛清寒前端进阶</title>
    <meta name="description" content="">
    <meta name="generator" content="VuePress 1.3.0">
    
    
    <link rel="preload" href="/blog/assets/css/0.styles.b077343c.css" as="style"><link rel="preload" href="/blog/assets/js/app.1d48766f.js" as="script"><link rel="preload" href="/blog/assets/js/2.8e3c7777.js" as="script"><link rel="preload" href="/blog/assets/js/74.f4af0388.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.3d0521ec.js"><link rel="prefetch" href="/blog/assets/js/100.f5f6a4d2.js"><link rel="prefetch" href="/blog/assets/js/101.cba872a2.js"><link rel="prefetch" href="/blog/assets/js/102.42a9e0ae.js"><link rel="prefetch" href="/blog/assets/js/103.4a4af273.js"><link rel="prefetch" href="/blog/assets/js/11.095d2adb.js"><link rel="prefetch" href="/blog/assets/js/12.f8b9b40d.js"><link rel="prefetch" href="/blog/assets/js/13.21223d01.js"><link rel="prefetch" href="/blog/assets/js/14.bd196a31.js"><link rel="prefetch" href="/blog/assets/js/15.e214a486.js"><link rel="prefetch" href="/blog/assets/js/16.d02364f1.js"><link rel="prefetch" href="/blog/assets/js/17.0a0f4ded.js"><link rel="prefetch" href="/blog/assets/js/18.3ca71260.js"><link rel="prefetch" href="/blog/assets/js/19.dfae1556.js"><link rel="prefetch" href="/blog/assets/js/20.e690072e.js"><link rel="prefetch" href="/blog/assets/js/21.eb286321.js"><link rel="prefetch" href="/blog/assets/js/22.caad2e78.js"><link rel="prefetch" href="/blog/assets/js/23.325a186e.js"><link rel="prefetch" href="/blog/assets/js/24.56388ff1.js"><link rel="prefetch" href="/blog/assets/js/25.414086c7.js"><link rel="prefetch" href="/blog/assets/js/26.e6c9ceea.js"><link rel="prefetch" href="/blog/assets/js/27.32225b51.js"><link rel="prefetch" href="/blog/assets/js/28.735584b9.js"><link rel="prefetch" href="/blog/assets/js/29.959891d3.js"><link rel="prefetch" href="/blog/assets/js/3.c1b1eb34.js"><link rel="prefetch" href="/blog/assets/js/30.0358838e.js"><link rel="prefetch" href="/blog/assets/js/31.bddf725e.js"><link rel="prefetch" href="/blog/assets/js/32.2ffcf23f.js"><link rel="prefetch" href="/blog/assets/js/33.076cd21f.js"><link rel="prefetch" href="/blog/assets/js/34.d64a53e9.js"><link rel="prefetch" href="/blog/assets/js/35.c8c0043c.js"><link rel="prefetch" href="/blog/assets/js/36.c9aef03e.js"><link rel="prefetch" href="/blog/assets/js/37.a0b41832.js"><link rel="prefetch" href="/blog/assets/js/38.5b697e55.js"><link rel="prefetch" href="/blog/assets/js/39.839badb6.js"><link rel="prefetch" href="/blog/assets/js/4.37932c63.js"><link rel="prefetch" href="/blog/assets/js/40.1cab4638.js"><link rel="prefetch" href="/blog/assets/js/41.83fc0c1a.js"><link rel="prefetch" href="/blog/assets/js/42.c1a3e026.js"><link rel="prefetch" href="/blog/assets/js/43.ba28d03c.js"><link rel="prefetch" href="/blog/assets/js/44.b8db566b.js"><link rel="prefetch" href="/blog/assets/js/45.e020e150.js"><link rel="prefetch" href="/blog/assets/js/46.108c155e.js"><link rel="prefetch" href="/blog/assets/js/47.40dd0d5f.js"><link rel="prefetch" href="/blog/assets/js/48.f300965f.js"><link rel="prefetch" href="/blog/assets/js/49.0abcba10.js"><link rel="prefetch" href="/blog/assets/js/5.d2614c9c.js"><link rel="prefetch" href="/blog/assets/js/50.04b30d21.js"><link rel="prefetch" href="/blog/assets/js/51.e824910b.js"><link rel="prefetch" href="/blog/assets/js/52.8339d425.js"><link rel="prefetch" href="/blog/assets/js/53.b00a74fc.js"><link rel="prefetch" href="/blog/assets/js/54.48cceb7d.js"><link rel="prefetch" href="/blog/assets/js/55.0147a832.js"><link rel="prefetch" href="/blog/assets/js/56.b5258847.js"><link rel="prefetch" href="/blog/assets/js/57.b099a4f3.js"><link rel="prefetch" href="/blog/assets/js/58.ade69b6d.js"><link rel="prefetch" href="/blog/assets/js/59.39486e7a.js"><link rel="prefetch" href="/blog/assets/js/6.9b04b50f.js"><link rel="prefetch" href="/blog/assets/js/60.7159be99.js"><link rel="prefetch" href="/blog/assets/js/61.1cc7148f.js"><link rel="prefetch" href="/blog/assets/js/62.f43a0887.js"><link rel="prefetch" href="/blog/assets/js/63.6be61b47.js"><link rel="prefetch" href="/blog/assets/js/64.415fd69a.js"><link rel="prefetch" href="/blog/assets/js/65.bad87c1a.js"><link rel="prefetch" href="/blog/assets/js/66.d24965d3.js"><link rel="prefetch" href="/blog/assets/js/67.208c9264.js"><link rel="prefetch" href="/blog/assets/js/68.d2c6f6ae.js"><link rel="prefetch" href="/blog/assets/js/69.ae860aae.js"><link rel="prefetch" href="/blog/assets/js/7.1957cb9a.js"><link rel="prefetch" href="/blog/assets/js/70.e3edbded.js"><link rel="prefetch" href="/blog/assets/js/71.46a20633.js"><link rel="prefetch" href="/blog/assets/js/72.ca1e3616.js"><link rel="prefetch" href="/blog/assets/js/73.f522e1f8.js"><link rel="prefetch" href="/blog/assets/js/75.4f8daf3b.js"><link rel="prefetch" href="/blog/assets/js/76.d0822e09.js"><link rel="prefetch" href="/blog/assets/js/77.310573fd.js"><link rel="prefetch" href="/blog/assets/js/78.39eb1324.js"><link rel="prefetch" href="/blog/assets/js/79.2378f352.js"><link rel="prefetch" href="/blog/assets/js/8.4a393d1c.js"><link rel="prefetch" href="/blog/assets/js/80.9f99e5eb.js"><link rel="prefetch" href="/blog/assets/js/81.c3322abe.js"><link rel="prefetch" href="/blog/assets/js/82.122e0ca9.js"><link rel="prefetch" href="/blog/assets/js/83.bec7973b.js"><link rel="prefetch" href="/blog/assets/js/84.f671d7ff.js"><link rel="prefetch" href="/blog/assets/js/85.e184cd44.js"><link rel="prefetch" href="/blog/assets/js/86.52ee8bef.js"><link rel="prefetch" href="/blog/assets/js/87.36d20653.js"><link rel="prefetch" href="/blog/assets/js/88.e5914068.js"><link rel="prefetch" href="/blog/assets/js/89.e6e720ae.js"><link rel="prefetch" href="/blog/assets/js/9.7db07504.js"><link rel="prefetch" href="/blog/assets/js/90.6d324503.js"><link rel="prefetch" href="/blog/assets/js/91.e635ddf1.js"><link rel="prefetch" href="/blog/assets/js/92.8f1be513.js"><link rel="prefetch" href="/blog/assets/js/93.817c95f7.js"><link rel="prefetch" href="/blog/assets/js/94.d052b4c7.js"><link rel="prefetch" href="/blog/assets/js/95.578691e6.js"><link rel="prefetch" href="/blog/assets/js/96.f910c46e.js"><link rel="prefetch" href="/blog/assets/js/97.e79ffd03.js"><link rel="prefetch" href="/blog/assets/js/98.8760c258.js"><link rel="prefetch" href="/blog/assets/js/99.73837283.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.b077343c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/images/blog.jpg" alt="洛清寒前端进阶" class="logo"> <span class="site-name can-hide">洛清寒前端进阶</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/blog/blog/" class="nav-link">
  进阶博文
</a></div><div class="nav-item"><a href="/blog/interview/" class="nav-link router-link-active">
  笔试面试
</a></div><div class="nav-item"><a href="https://juejin.im/post/5dfef50751882512444027eb" target="_blank" rel="noopener noreferrer" class="nav-link external">
  大厂面经
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/lensh/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/lensh/vue-qq" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vue-qq
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/lensh/mini-promise" target="_blank" rel="noopener noreferrer" class="nav-link external">
  mini-promise
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/lensh/React-SSR" target="_blank" rel="noopener noreferrer" class="nav-link external">
  react-ssr
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/blog/blog/" class="nav-link">
  进阶博文
</a></div><div class="nav-item"><a href="/blog/interview/" class="nav-link router-link-active">
  笔试面试
</a></div><div class="nav-item"><a href="https://juejin.im/post/5dfef50751882512444027eb" target="_blank" rel="noopener noreferrer" class="nav-link external">
  大厂面经
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/lensh/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/lensh/vue-qq" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vue-qq
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/lensh/mini-promise" target="_blank" rel="noopener noreferrer" class="nav-link external">
  mini-promise
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/lensh/React-SSR" target="_blank" rel="noopener noreferrer" class="nav-link external">
  react-ssr
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/blog/interview/css/1.html" class="sidebar-heading clickable"><span>css</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/interview/es6/1.html" class="sidebar-heading clickable"><span>es6</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/interview/html/1.html" class="sidebar-heading clickable"><span>html</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/interview/js/1.html" class="sidebar-heading clickable"><span>js</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/interview/node/1.html" class="sidebar-heading clickable"><span>node</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/interview/react/1.html" class="sidebar-heading clickable"><span>react</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/interview/vue/1.html" class="sidebar-heading clickable"><span>vue</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/interview/webpack/1.html" class="sidebar-heading clickable"><span>webpack</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/interview/browser/1.html" class="sidebar-heading clickable"><span>浏览器</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/interview/coding/1.html" class="sidebar-heading clickable"><span>编程题</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/interview/network/1.html" class="sidebar-heading clickable open"><span>网络和网络安全</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/interview/network/1.html" class="sidebar-link">XSS和CSRF</a></li><li><a href="/blog/interview/network/2.html" class="sidebar-link">其它常见web攻击</a></li><li><a href="/blog/interview/network/3.html" class="active sidebar-link">http2.0、http3.0、https</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/interview/network/3.html#一、http2-0" class="sidebar-link">一、http2.0</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/interview/network/3.html#概念" class="sidebar-link">概念</a></li><li class="sidebar-sub-header"><a href="/blog/interview/network/3.html#什么是spdy协议" class="sidebar-link">什么是SPDY协议</a></li><li class="sidebar-sub-header"><a href="/blog/interview/network/3.html#http1-x的缺点" class="sidebar-link">HTTP1.x的缺点</a></li><li class="sidebar-sub-header"><a href="/blog/interview/network/3.html#http2-0的优点" class="sidebar-link">HTTP2.0的优点</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/interview/network/3.html#二、http3-0" class="sidebar-link">二、http3.0</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/interview/network/3.html#多路复用" class="sidebar-link">多路复用</a></li><li class="sidebar-sub-header"><a href="/blog/interview/network/3.html#_0-rtt" class="sidebar-link">0-RTT</a></li><li class="sidebar-sub-header"><a href="/blog/interview/network/3.html#纠错机制" class="sidebar-link">纠错机制</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/interview/network/3.html#三、https" class="sidebar-link">三、https</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/interview/network/3.html#非对称加密" class="sidebar-link">非对称加密</a></li><li class="sidebar-sub-header"><a href="/blog/interview/network/3.html#对称加密" class="sidebar-link">对称加密</a></li><li class="sidebar-sub-header"><a href="/blog/interview/network/3.html#https-握手过程中，客户端如何验证证书的合法性" class="sidebar-link">HTTPS 握手过程中，客户端如何验证证书的合法性</a></li></ul></li></ul></li><li><a href="/blog/interview/network/4.html" class="sidebar-link">http三次握手四次挥手</a></li><li><a href="/blog/interview/network/5.html" class="sidebar-link">HTTP协议类</a></li><li><a href="/blog/interview/network/6.html" class="sidebar-link">dns递归查询和迭代查询</a></li><li><a href="/blog/interview/network/7.html" class="sidebar-link">UDP和TCP</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/interview/practice-mode/1.html" class="sidebar-heading clickable"><span>设计模式</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/interview/suanfa/1.html" class="sidebar-heading clickable"><span>算法和数据结构</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="http2-0、http3-0、https"><a href="#http2-0、http3-0、https" class="header-anchor">#</a> http2.0、http3.0、https</h1> <h2 id="一、http2-0"><a href="#一、http2-0" class="header-anchor">#</a> 一、http2.0</h2> <h3 id="概念"><a href="#概念" class="header-anchor">#</a> 概念</h3> <p>HTTP/2 是HTTP协议的第二个主要版本，主要基于<code>SPDY协议</code>。HTTP2.0的特点是：在不改动HTTP语义、方法、状态码、URI及首部字段的情况下，大幅度提高了web性能。</p> <h3 id="什么是spdy协议"><a href="#什么是spdy协议" class="header-anchor">#</a> 什么是SPDY协议</h3> <p><code>SPDY协议</code>是Google开发的基于TCP协议的应用层协议。目标是优化HTTP协议的性能，通过压缩、多路复用和优先级等技术，缩短网页的加载时间并提高安全性。SPDY协议的核心思想是尽量减少TCP连接数。</p> <h3 id="http1-x的缺点"><a href="#http1-x的缺点" class="header-anchor">#</a> HTTP1.x的缺点</h3> <ul><li>HTTP/1.0一次只允许在一个TCP连接上发起一个请求，HTTP/1.1使用的流水线技术也只能部分处理请求并发，仍然会存在队列头阻塞问题，因此客户端在需要发起多次请求时，通常会采用建立多连接来减少延迟。</li> <li>单向请求，只能由客户端发起。</li> <li>请求报文与响应报文首部信息冗余量大。</li> <li>数据未压缩，导致数据的传输量大。</li></ul> <p>我们可以通过一个链接来对比一下HTTP2.0到底比HTTP1.x快了多少。</p> <p><img src="https://pic4.zhimg.com/v2-4941fe9fd2f9eadcdc47932598c420e3_b.webp" alt="image"></p> <h3 id="http2-0的优点"><a href="#http2-0的优点" class="header-anchor">#</a> HTTP2.0的优点</h3> <h4 id="（1）二进制传输"><a href="#（1）二进制传输" class="header-anchor">#</a> （1）二进制传输</h4> <p>HTTP2.0中所有加强性能的核心是二进制传输，在HTTP1.x中，我们是通过文本的方式传输数据。基于文本的方式传输数据存在很多缺陷，文本的表现形式有多样性，因此要做到健壮性考虑的场景必然有很多，但是二进制则不同，只有0和1的组合，因此选择了二进制传输，实现方便且健壮。
在HTTP2.0中引入了二进制格式编码机制，所有传输的数据都会被分割，并采用二进制格式编码。
<img src="https://image-static.segmentfault.com/255/492/2554926774-5b8e41d288514_articlex" alt="image"></p> <p>为了保证HTTP不受影响，那就需要在应用层（HTTP2.0）和传输层（TCP or UDP）之间增加一个二进制分帧层。在二进制分帧层上，HTTP2.0会将所有传输的信息分为更小的消息和帧，并采用二进制格式编码，其中HTTP1.x的首部信息会被封装到Headers帧，而Request Body则封装到Data帧。</p> <h4 id="（2）多路复用"><a href="#（2）多路复用" class="header-anchor">#</a> （2）多路复用</h4> <p>在HTTP1.0中，我们经常会使用到雪碧图、使用多个域名等方式来进行优化，都是因为浏览器限制了同一个域名下的请求数量，当页面需要请求很多资源的时候，队头阻塞（Head of line blocking）会导致在达到最大请求时，资源需要等待其他资源请求完成后才能继续发送。
HTTP2.0中，有两个概念非常重要：帧（frame）和流（stream）。
帧是最小的数据单位，每个帧会标识出该帧属于哪个流，流是多个帧组成的数据流。
所谓多路复用，即在一个TCP连接中存在多个流，即可以同时发送多个请求，对端可以通过帧中的表示知道该帧属于哪个请求。在客户端，这些帧乱序发送，到对端后再根据每个帧首部的流标识符重新组装。通过该技术，可以避免HTTP旧版本的队头阻塞问题，极大提高传输性能。</p> <p><img src="https://image-static.segmentfault.com/145/296/1452964433-5b8e41d284282_articlex" alt="image"></p> <p>多路复用代替了HTTP1.x的序列和阻塞机制，所有的相同域名请求都通过同一个TCP连接并发完成。在HTTP1.x中，并发多个请求需要多个TCP连接，浏览器为了控制资源会有6-8个TCP连接都限制。</p> <h4 id="（3）header压缩"><a href="#（3）header压缩" class="header-anchor">#</a> （3）Header压缩</h4> <p>在HTTP1.0中，我们使用文本的形式传输header，在header中携带cookie的话，每次都需要重复传输几百到几千的字节，这着实是一笔不小的开销。
在HTTP2.0中，我们使用了HPACK（HTTP2头部压缩算法）压缩格式对传输的header进行编码，减少了header的大小。并在两端维护了索引表，用于记录出现过的header，后面在传输过程中就可以传输已经记录过的header的键名，对端收到数据后就可以通过键名找到对应的值。</p> <h4 id="（4）服务器push"><a href="#（4）服务器push" class="header-anchor">#</a> （4）服务器Push</h4> <p>在HTTP2.0中，服务端可以在客户端某个请求后，主动推送其他资源。
可以想象一下，某些资源客户端是一定会请求的，这时就可以采取服务端push的技术，提前给客户端推送必要的资源，就可以相对减少一点延迟时间。在浏览器兼容的情况下也可以使用prefetch。</p> <h4 id="（5）更安全"><a href="#（5）更安全" class="header-anchor">#</a> （5）更安全</h4> <p>HTTP2.0使用了tls的拓展ALPN做为协议升级，除此之外，HTTP2.0对tls的安全性做了近一步加强，通过黑名单机制禁用了几百种不再安全的加密算法。</p> <h2 id="二、http3-0"><a href="#二、http3-0" class="header-anchor">#</a> 二、http3.0</h2> <p>HTTP/2 使用了多路复用，一般来说同一域名下只需要使用一个 TCP 连接。当这个连接中出现了丢包的情况，那就会导致 HTTP/2 的表现情况反倒不如 HTTP/1 了。因为在出现丢包的情况下，整个TCP都要开始等待重传，也就导致了后面的所有数据都被阻塞了。但是对于 HTTP/1来说，可以开启多个TCP连接，出现这种情况反到只会影响其中一个连接，剩余的 TCP 连接还可以正常传输数据。</p> <p>基于这个原因，Google 就更起炉灶搞了一个基于 UDP 协议的 QUIC 协议，并且使用在了 HTTP/3 上</p> <p>之前我们学习过 UDP 协议的内容，知道这个协议虽然效率很高，但是并不是那么的可靠。QUIC 虽然基于 UDP，但是在原本的基础上新增了很多功能，比如多路复用、0-RTT、使用 TLS1.3 加密、流量控制、有序交付、重传等等功能。这里我们就挑选几个重要的功能学习下这个协议的内容。</p> <h3 id="多路复用"><a href="#多路复用" class="header-anchor">#</a> 多路复用</h3> <p>虽然 HTTP/2 支持了多路复用，但是 TCP 协议终究是没有这个功能的。QUIC 原生就实现了这个功能，并且传输的单个数据流可以保证有序交付且不会影响其他的数据流，这样的技术就解决了之前 TCP 存在的问题。</p> <p>并且 QUIC 在移动端的表现也会比 TCP 好。因为 TCP 是基于 IP 和端口去识别连接的，这种方式在多变的移动端网络环境下是很脆弱的。但是 QUIC 是通过 ID 的方式去识别一个连接，不管你网络环境如何变化，只要 ID 不变，就能迅速重连上。</p> <h3 id="_0-rtt"><a href="#_0-rtt" class="header-anchor">#</a> 0-RTT</h3> <p>通过使用类似 TCP 快速打开的技术，缓存当前会话的上下文，在下次恢复会话的时候，只需要将之前的缓存传递给服务端验证通过就可以进行传输了。</p> <h3 id="纠错机制"><a href="#纠错机制" class="header-anchor">#</a> 纠错机制</h3> <p>假如说这次我要发送三个包，那么协议会算出这三个包的异或值并单独发出一个校验包，也就是总共发出了四个包。当出现其中的非校验包丢包的情况时，可以通过另外三个包计算出丢失的数据包的内容。</p> <p>当然这种技术只能使用在丢失一个包的情况下，如果出现丢失多个包就不能使用纠错机制了，只能使用重传的方式了。</p> <h2 id="三、https"><a href="#三、https" class="header-anchor">#</a> 三、https</h2> <p>HTTPS在传统的HTTP和TCP之间加了一层用于加密解密的SSL/TLS层。使用HTTPS必须要有一套自己的数字证书（包含公钥和私钥）。</p> <p>HTTPS解决的问题</p> <ul><li>信息加密传输：第三方无法窃听</li> <li>完整性校验：一旦被篡改，通信双方会立刻发现</li> <li>身份认证：防止身份被冒充</li></ul> <p>HTTPS加密过程：</p> <p><img src="/blog/images/https.png" alt="image"></p> <p><strong>加密过程使用了对称加密和非对称加密。在交换密钥阶段使用非对称加密方式，之后建立通信交换报文阶段则使用对称加密。</strong></p> <h3 id="非对称加密"><a href="#非对称加密" class="header-anchor">#</a> 非对称加密</h3> <p>客户端通过公钥加密。服务端通过私钥解密.</p> <p>非对称加密密使用一对非对称的密钥。一把叫做公钥，一把叫做私钥。私钥不能让其他任何人知道，而公钥则可以随意发布，任何人都可以获得。使用此加密方式，发送密文的一方使用公钥进行加密处理，对方收到被加密的信息后，再使用自己的私钥进行解密。利用这种方式，不需要发送用来解密的私钥，也不必担心密钥被攻击者窃听盗走。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token function">encrypt</span><span class="token punctuation">(</span>明文，公钥<span class="token punctuation">)</span> <span class="token operator">=</span> 密文
    <span class="token function">decrypt</span><span class="token punctuation">(</span>密文，私钥<span class="token punctuation">)</span> <span class="token operator">=</span> 明文
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>由于非对称加密比对称加密要慢，所以我们就需要综合一下他们两者的优缺点，使他们共同使用，而这也是HTTPS采用的加密方式。</p> <h3 id="对称加密"><a href="#对称加密" class="header-anchor">#</a> 对称加密</h3> <p>客户端和服务端采用相同的密钥经行加密。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token function">encrypt</span><span class="token punctuation">(</span>明文，密钥<span class="token punctuation">)</span> <span class="token operator">=</span> 密文
    <span class="token function">decrypt</span><span class="token punctuation">(</span>密文，密钥<span class="token punctuation">)</span> <span class="token operator">=</span> 明文
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="https-握手过程中，客户端如何验证证书的合法性"><a href="#https-握手过程中，客户端如何验证证书的合法性" class="header-anchor">#</a> HTTPS 握手过程中，客户端如何验证证书的合法性</h3> <ul><li>校验证书的颁发机构是否受客户端信任。</li> <li>通过 CRL 或 OCSP 的方式校验证书是否被吊销。</li> <li>对比系统时间，校验证书是否在有效期内。</li> <li>通过校验对方是否存在证书的私钥，判断证书的网站域名是否与证书颁发的域名一致。</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/26/2020, 4:20:55 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/interview/network/2.html" class="prev">
        其它常见web攻击
      </a></span> <span class="next"><a href="/blog/interview/network/4.html">
        http三次握手四次挥手
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.1d48766f.js" defer></script><script src="/blog/assets/js/2.8e3c7777.js" defer></script><script src="/blog/assets/js/74.f4af0388.js" defer></script>
  </body>
</html>
